[pytest]
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Configure test discovery
norecursedirs = .git .tox venv env

# Configure output and reporting
addopts = 
    --verbose
    --tb=short
    --cov=openmatch
    --cov-report=term-missing
    --cov-report=html
    --cov-branch
    --benchmark-only
    --benchmark-group-by=name
    --benchmark-disable-gc
    --benchmark-timer=time.perf_counter
    --benchmark-min-rounds=100

# Configure markers
markers =
    unit: Unit tests
    integration: Integration tests
    e2e: End-to-end tests
    slow: Slow running tests
    benchmark: Performance benchmark tests

# Configure test categories
[test-categories]
unit = tests/unit
integration = tests/integration
e2e = tests/e2e

# Configure coverage settings
[coverage:run]
branch = True
source = openmatch

[coverage:report]
exclude_lines =
    pragma: no cover
    def __repr__
    raise NotImplementedError
    if __name__ == .__main__.:
    pass
    raise ImportError

# Configure benchmark settings
[benchmark]
min_time = 0.000001
max_time = 1.0
min_rounds = 100
timer = time.perf_counter
disable_gc = True
warmup = False 